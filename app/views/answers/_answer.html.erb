<div class="left_place_column" style="">
  <%= link_to image_tag(upvote_icon(answer, current_user, request.session_options), :size => "30x30"), upvote_question_answer_path(answer.question, answer),
              :class => "up_vote", :remote => true, :method => :post %>
  <div class="win_votes"><%= answer.upvotes %></div>
</div>

<div class="center_place_column">
  <span class="place_name"><%= link_to answer.place.name, answer.place %></span>

  <div class="address_text">
    <%= answer.place.street_address %>&nbsp;|&nbsp;<%= answer.place.city_data %>
  </div>

  <% if answer.upvoters.count > 0 %>
      <div class="upvoters">
        <%= image_tag "header/AnswersGlyph_lightbulb.png/", :width => "15px" %>
        <span class="names_text middle">
            <span class='names'><%= h answer.upvoters.collect { |u| u.username }.join(", ") %></span>
          <%= t 'question.as_well_as', :n => (answer.upvotes - answer.upvoters.count) unless answer.upvotes - answer.upvoters.count ==0 %>
        </span>
      </div>
  <% end %>
  <ul class="answer_comments">
    <% for answer_comment in answer.answer_comments %>
        <%= render :partial => "../answers/answer_comment", :locals => {:answer_comment => answer_comment} %>
    <% end %>
  </ul>

  <% if current_user && answer.answer_comments.count > 0 %>
      <div class="answer_comment">
        <%= form_for AnswerComment.new, :url => comment_question_answer_path(answer.question, answer) do |f| %>
            <%= image_tag current_user.thumb_url, :width => 32, :class => "user_pic" %>
            <p><%= f.text_field :comment, :placeholder => t('question.type_comment'), :class => "answer_comment_textfield" %><%= f.submit :style => "display:none;" %></p>
        <% end %>
      </div>
  <% elsif current_user %>
      <div class="answer_comment" style="display:none;">
        <%= form_for AnswerComment.new, :url => comment_question_answer_path(answer.question, answer) do |f| %>
            <%= image_tag current_user.thumb_url, :width => 32, :class => "user_pic" %>
            <p><%= f.text_field :comment, :placeholder => t('question.type_comment'), :class => "answer_comment_textfield" %><%= f.submit :style => "display:none;" %></p>
        <% end %>
      </div>
      <%= link_to t('question.comment'), new_user_session_path, :class => "comment_link" %>
  <% else %>
      <%= link_to t('question.comment'), new_user_session_path %>
  <% end %>
</div>

<div class="right_place_column">
  <% if !current_user || !current_user.perspective_for_place(answer.place) %>
      <div class="save_place_button" id="<%= answer.place.id %>">
        <a rel="nofollow" data-remote="true" href="<%= new_place_perspective_path(answer.place) %>"><%= t 'question.save_this_place' %></a>
      </div>
  <% end %>
</div>

<div class="question_clear"></div>